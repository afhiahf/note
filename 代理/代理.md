# Linux虚拟机配置代理

export http_proxy=http://ip:7890
export https_proxy=http://ip:7890

(clash的默认端口为7890)

# Docker配置代理

修改配置文件（在bash）

/etc/systemd/system/docker.service.d/http-proxy.conf

[Service]
Environment="HTTP_PROXY=http://ip:7890"
Environment="HTTPS_PROXY=http://ip:7890"
Environment="NO_PROXY=localhost,127.0.0.1"

# APT配置代理：

Acquire::http::Proxy "http://ip:7890";
Acquire::https::Proxy "http://ip:7890";



# 对代理的一些理解

每一个发送http请求的应用程序都会有自己的一个代理规则，在打开系统代理以后，会强制每一个应用程序去遵守本机的代理规则，但是有一些应用程序是没有遵守的，这就需要再去单独给他们配置代理，当然如果是写的脚本没有自己的代理规则，就会直接跟随本机。

打开系统代理以后，里面有全局代理和规则代理

全局代理：

无论你访问的是国外还是国内的应用，他都会走国外代理出去

规则代理：

当你访问的是国内的应用时，不走国外代理不会给你转发，当你访问的是国外的应用时，就会走国外代理出去。

直连：

无论是国内还是国外，虽然你走了7890端口，但是不会经过国外的代理。



